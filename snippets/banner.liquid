{% liquid
  assign aspect_ratio = block.settings.aspect_ratio | default: '1:1'
  assign ratio_class = aspect_ratio | replace: ':', '-'
%}

<div class="banner-block banner-block--ratio-{{ ratio_class }}">
  {% if block.settings.image != blank %}
    <div class="banner-block__image-wrapper">
      {{
        block.settings.image
        | image_url: width: 1200
        | image_tag:
          class: 'banner-block__image',
          loading: 'lazy',
          width: 800,
          height: 800,
          sizes: '(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 800px',
          widths: '375,640,750,828,1080,1200',
          alt: block.settings.image.alt
        | default: block.settings.title
        | escape
      }}
    </div>
  {% endif %}

  <div class="banner-block__content">
    {% if block.settings.title != blank %}
      <h3 class="banner-block__title">{{ block.settings.title }}</h3>
    {% endif %}

    {% if block.settings.button_text != blank and block.settings.button_link != blank %}
      <a href="{{ block.settings.button_link }}" class="banner-block__button">
        {{ block.settings.button_text }}
      </a>
    {% endif %}
  </div>
</div>
